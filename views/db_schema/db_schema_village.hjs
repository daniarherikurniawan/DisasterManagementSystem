<!DOCTYPE html>
<html>
	<head>
		<title>DIMAS</title>
		<link href="../../stylesheets/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
		<div class="container" >
			<div class="row">
				<h1><%title%></h1>
			</div>
			<div class="row" style=" white-space: pre-wrap; font-family: monospace;">
				var Village = new mongoose.Schema({
				  name: { type: String, default: "Kendalrejo"},
				  location : {
					  sub_district: { type: String, default: "Durenan"},
					  district: { type: String, default: "Trenggalek"},
					  province: { type: String, default: "Jawa Timur"}
				  },
				  record_weather: [{
				  	date_recorded	: { type: Date, default: Date.now},
				  	condition	: {type : String, default:"Hujan sangat deras"} 
				  }],
				  geo_region	: {type : String, default:"[{342, 5345},{3432, 535}, {32, 45}]"} 
				})
			</div>


			<div ng-app="myApp">
				<div ng-controller="villageController">
					<form class="form-horizontal" ng-submit="insertDisasterEvent()">
					    <div class="row">
					       <div class="form-group">
					        <label class="col-sm-2">Id KTP</label>
					        <div class="col-sm-10"><input type="number" ng-model="id_KTP" 
					        name="id_KTP" placeholder="id KTP of the victim" class="form-control" required /></div>
					        </div>
					   	</div>
					    <div class="row">
					       <div class="form-group">
					        <label class="col-sm-2">Name</label>
					        <div class="col-sm-10"><input type="text" ng-model="name" 
					        name="name" placeholder="name of the victim" class="form-control" required /></div>
					        </div>
					   	</div>
					   
					    <div class="row">
					       <div class="form-group">
					        <label class="col-sm-2">Address</label>
					        <div class="col-sm-10"><input type="text" ng-model="address" 
					        name="address" placeholder="address of the victim" class="form-control" required /></div>
					        </div>
					   	</div>
					    
					    <div class="row">
					       <div class="form-group">
					        <label class="col-sm-2">Birthday</label>
					        <div class="col-sm-10"><input type="date" ng-model="birthday" 
					        name="birthday" class="form-control" required/></div>
					        </div>
					   	</div>
					  	<input class="btn btn-success" type="submit" id="submit" value="Submit" />
					</form>
				</div><!-- cpontroller -->

			</div><!-- MyApp -->
		</div>
	</body>
</html>

<script src="../../javascripts/jquery.min.js"></script>
<script src="../../javascripts/angular.min.js"></script>
<script src="../../javascripts/angular_directive.js"></script>
<script src="../../javascripts/angular-ui-router.js"></script>
<script src="../../javascripts/ui-bootstrap-tpls.min.js"></script>
<script>
$app.controller("villageController", function($scope, $http, $templateRequest, $sce, $compile, $window){
		$http.get('data.json').success(function(data, status, headers, config) {
		        $scope.items = data.data;
		    }).error(function(data, status, headers, config) {
		        console.log("No data found..");
		});

		$scope.birthday = new Date();
		$scope.original_village=[];
		$scope.phone_numbers=[];
		$scope.selected_gender = 1;
		$scope.isOriginalVillageFilled = false;
		$scope.type_gender = [{
		        id: 1,
		        name: "Laki-laki"        
		    }, {
		        id: 2,
		        name: "Perempuan"        
		    }];
	    $scope.addNewPhone = function(phone) {
	    	if(phone != ''){
		        $scope.phone_numbers.push(phone);
				$scope.phone='';	
	    	}
	    };

	    $scope.deletePhone = function(id) {
	    	$scope.phone_numbers.splice(id, 1);
	    };

	    $scope.addOriginalVillage = function(id) {
		    $scope.original_village.push(id);
			$scope.isOriginalVillageFilled = true;
	    };

	    $scope.deleteOriginalVillage = function(id) {
			$scope.isOriginalVillageFilled = false;
	    	$scope.original_village.splice(id, 1);
	    };
	    
	    $scope.processForm = function(){
		    alert("Submitting form..");
		}

		
	    $scope.newTabRegisterVillage = function() {
	    	$window.open('/db/village');
	    };
	   
	});



</script>